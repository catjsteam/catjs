var _uglify=require("uglify-js"),_global=catrequire("cat.global"),_log=_global.log(),_props=catrequire("cat.props"),_utils=catrequire("cat.utils");module.exports=function(){function t(t){if(!t)return void _log.warning(_props.get("cat.arguments.missing").format("[uglify utils]","config"));var r,e,i,o=t.code,n={semicolons:!1},a=t.streamopt;return o?(i=_uglify.parse(o),r=r?_utils.copyObjProps(n,a,!1):n,e=_uglify.OutputStream(r),i.print(e),o=e.toString()):_log.warning(_props.get("cat.arguments.missing").format("[uglify utils]","config.code")),{code:o,ast:i}}return{getCodeSnippet:function(r){var e=t(r);return e?e.code:void 0},getActualSnippet:function(r){var e,i=t(r);return i&&i.code&&(e=JSON.parse(i.code)),e},walk:function(r){var e=null,i=new _uglify.TreeWalker(function(t,r){if(t instanceof _uglify.AST_Call){var i=e;return e=t,r(),e=i,!0}t instanceof _uglify.AST_String&&e&&console.log("Found string: %s at %d,%d",t.getValue(),t.start.line,t.start.col)}),o=t(r);o.ast&&o.ast.walk(i)}}}();