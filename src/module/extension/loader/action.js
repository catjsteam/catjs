var _fs=require("fs.extra"),_path=require("path"),_global=catrequire("cat.global"),_log=_global.log(),_utils=catrequire("cat.props"),_typedas=require("typedas"),_props=catrequire("cat.props"),_basePlugin=require("./../Base.js"),_watch=require("watch");module.exports=_basePlugin.ext(function(){var r=this,t=function(t){var e;_typedas.isArray(t)?t.forEach(function(t){if(t)try{_fs.existsSync(t)&&(e=_path.resolve(t)+"/",r.getProject().addPluginLocations([e]))}catch(a){_log.warning("[CAT Loader] Skip, No valid directory was found: '"+t+"'")}}):_log.warning(_props.get("cat.arguments.type").format("[CAT loader]","Array"))},e={apply:function(e){var a=e?e.path:void 0,o=r.getEmitter();r.apply(e),a||_utils.error(_props.get("cat.error.config").format("[CAT loader]")),t(a),o.emit("job.done",{status:"done"})},init:function(t,e){r.initialize(t,e)},getPhase:function(){return r.getPhase()}};return e});