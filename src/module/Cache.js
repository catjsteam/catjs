var _fs=require("fs"),_fileName=[cathome,".cat"].join("/");module.exports=function(){function n(n,e){e=e||"appendFileSync";try{e&&_fs[e](_fileName,n,"utf8")}catch(t){console.log("[catcli] ",t)}}function e(){try{return _fs.readFileSync(_fileName,"utf8")}catch(n){console.log("[catcli] ",n)}}function t(n){var t,i,r=e(),o=0;r&&(t=r.split("\n"),t.forEach(function(e){o++,i={row:e,line:o},n.call(i)}))}return{set:function(e,t){var i=[e,t].join("=");-1===i.indexOf("\n")&&(i+="\n"),n(i)},get:function(n){var e=[];return t(function(){var t=this.row,i=this.line;t&&0===t.trim().indexOf(n)&&e.push({row:t,line:i})}),e},remove:function(e){function i(n){n.trim()&&(-1===n.indexOf("\n")&&(n+="\n"),r.push(n))}var r=[],o=0,c=e&&e.length?e.length:0;c&&(t(function(){var n,t=this.row,r=this.line,f=0;for(o=0;c>o;o++)if(n=e[o],r===n){f++;break}0===f&&(i(t),f=0)}),r&&r.length>0&&n(r.join(""),"writeFileSync"))},removeByKey:function(n,e){var t=this.get(n),i=[],r=[];return t.forEach(function(n){(!e||e&&n.row&&-1===n.row.indexOf(e))&&(i.push(n.line),r.push(n.row.trim().split("=")[1]))}),i&&i.length&&i.length>0&&this.remove(i),r}}}();